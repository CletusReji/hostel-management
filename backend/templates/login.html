{% extends "base.html" %}

{% block content %}
<div class="auth-container card">
    <h2>Login</h2>

    <!-- Vacancy Status -->
    {% if not has_vacancy %}
    <div
        style="background: #ef4444; color: white; padding: 1rem; border-radius: 6px; margin-bottom: 1rem; text-align: center; font-weight: bold;">
        NO VACANCY (Hostel Full)
    </div>
    {% endif %}

    <form method="POST" action="{{ url_for('login') }}">
        <div class="form-group">
            <label>Username</label>
            <input type="text" name="username" required>
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="password" name="password" required>
        </div>
        <button type="submit">Log In</button>
    </form>

    <p style="margin-top: 1rem; text-align: center;">
        New Student?
        {% if has_vacancy %}
        <a href="{{ url_for('register') }}">Register Here</a>
        {% else %}
        <span style="color: #64748b; cursor: not-allowed;">Registration Closed</span>
        {% endif %}
    </p>
</div>
{% endblock %}